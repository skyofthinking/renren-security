<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="io.renren.modules.job.dao.SysTestDao">

	<!-- 可根据自己的需求，是否要使用 -->
    <resultMap type="io.renren.modules.job.entity.SysTestEntity" id="sysTestMap">
        <result property="uid" column="uid"/>
        <result property="keyword" column="keyword"/>
        <result property="value" column="value"/>
        <result property="status" column="status"/>
    </resultMap>

	<select id="queryObject" resultType="io.renren.modules.job.entity.SysTestEntity">
		select * from sys_test where uid = #{value}
	</select>

	<select id="queryList" resultType="io.renren.modules.job.entity.SysTestEntity">
		select * from sys_test
        <choose>
            <when test="sidx != null and sidx.trim() != ''">
                order by ${sidx} ${order}
            </when>
			<otherwise>
                order by uid desc
			</otherwise>
        </choose>
	</select>
	
 	<select id="queryTotal" resultType="int">
		select count(*) from sys_test 
	</select>
	 
	<insert id="insert" parameterType="io.renren.modules.job.entity.SysTestEntity">
		insert into sys_test
		(
	            uid,
		            keyword,
		            value,
		            status,
		            create_by,
		            create_date,
		            update_by,
		            update_date,
		            remarks,
		            del_flag
		)
		values
		(
	            #{uid},
		            #{keyword},
		            #{value},
		            #{status},
		            #{createBy.userId},
			            #{createDate},
		            #{updateBy.userId},
			            #{updateDate},
		            #{remarks},
		            #{delFlag}
		)
	</insert>
	 
	<update id="update" parameterType="io.renren.modules.job.entity.SysTestEntity">
		update sys_test 
		<set>
						<if test="keyword != null">keyword = #{keyword}, </if>
									<if test="value != null">value = #{value}, </if>
									<if test="status != null">status = #{status}, </if>
											<if test="updateBy != null">update_by = #{updateBy.userId}, </if>
									<if test="updateDate != null">update_date = #{updateDate}, </if>
									<if test="remarks != null">remarks = #{remarks}, </if>
									<if test="delFlag != null">del_flag = #{delFlag}</if>
					</set>
		where uid = #{uid}
	</update>
	
	<delete id="delete">
		delete from sys_test where uid = #{value}
	</delete>
	
	<delete id="deleteBatch">
		delete from sys_test where uid in 
		<foreach item="uid" collection="array" open="(" separator="," close=")">
			#{uid}
		</foreach>
	</delete>

</mapper>